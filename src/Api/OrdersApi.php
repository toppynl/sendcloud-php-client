<?php
/**
 * OrdersApi
 * PHP version 7.2
 *
 * @category Class
 * @package  Toppy\Sendcloud
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */

/**
 * Sendcloud Public REST API
 *
 * Complete Sendcloud API v3 specification - merged from official Stoplight documentation bundles
 *
 * The version of the OpenAPI document: 3.0.0
 * Contact: contact@sendcloud.com
 * Generated by: https://openapi-generator.tech
 * Generator version: 7.18.0
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

namespace Toppy\Sendcloud\Api;

use GuzzleHttp\Psr7\MultipartStream;
use Http\Client\Common\Plugin\ErrorPlugin;
use Http\Client\Common\Plugin\RedirectPlugin;
use Http\Client\Common\PluginClient;
use Http\Client\Common\PluginClientFactory;
use Http\Client\Exception\HttpException;
use Http\Client\HttpAsyncClient;
use Http\Discovery\HttpAsyncClientDiscovery;
use Http\Discovery\Psr17FactoryDiscovery;
use Http\Discovery\Psr18ClientDiscovery;
use Http\Message\RequestFactory;
use Http\Promise\Promise;
use Toppy\Sendcloud\ApiException;
use Toppy\Sendcloud\Configuration;
use Toppy\Sendcloud\DebugPlugin;
use Toppy\Sendcloud\HeaderSelector;
use Toppy\Sendcloud\FormDataProcessor;
use Toppy\Sendcloud\ObjectSerializer;
use Psr\Http\Client\ClientExceptionInterface;
use Psr\Http\Client\ClientInterface;
use Psr\Http\Message\RequestFactoryInterface;
use Psr\Http\Message\RequestInterface;
use Psr\Http\Message\ResponseInterface;
use Psr\Http\Message\StreamFactoryInterface;
use Psr\Http\Message\UriFactoryInterface;
use Psr\Http\Message\UriInterface;
use function sprintf;

/**
 * OrdersApi Class Doc Comment
 *
 * @category Class
 * @package  Toppy\Sendcloud
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */
class OrdersApi
{
    /**
     * @var PluginClient
     */
    protected $httpClient;

    /**
     * @var PluginClient
     */
    protected $httpAsyncClient;

    /**
     * @var UriFactoryInterface
     */
    protected $uriFactory;

    /**
     * @var Configuration
     */
    protected $config;

    /**
     * @var HeaderSelector
     */
    protected $headerSelector;

    /**
     * @var int Host index
     */
    protected $hostIndex;

    /**
     * @var RequestFactoryInterface
     */
    protected $requestFactory;

    /**
     * @var StreamFactoryInterface
     */
    protected $streamFactory;

    public function __construct(
        ?ClientInterface $httpClient = null,
        ?Configuration $config = null,
        ?HttpAsyncClient $httpAsyncClient = null,
        ?UriFactoryInterface $uriFactory = null,
        ?RequestFactoryInterface $requestFactory = null,
        ?StreamFactoryInterface $streamFactory = null,
        ?HeaderSelector $selector = null,
        ?array $plugins = null,
        $hostIndex = 0
    ) {
        $this->config = $config ?? (new Configuration())->setHost('https://account.sendcloud.com');
        $this->requestFactory = $requestFactory ?? Psr17FactoryDiscovery::findRequestFactory();
        $this->streamFactory = $streamFactory ?? Psr17FactoryDiscovery::findStreamFactory();

        $plugins = $plugins ?? [
            new RedirectPlugin(['strict' => true]),
            new ErrorPlugin(),
        ];

        if ($this->config->getDebug()) {
            $plugins[] = new DebugPlugin(fopen($this->config->getDebugFile(), 'ab'));
        }

        $this->httpClient = (new PluginClientFactory())->createClient(
            $httpClient ?? Psr18ClientDiscovery::find(),
            $plugins
        );

        $this->httpAsyncClient = (new PluginClientFactory())->createClient(
            $httpAsyncClient ?? HttpAsyncClientDiscovery::find(),
            $plugins
        );

        $this->uriFactory = $uriFactory ?? Psr17FactoryDiscovery::findUriFactory();

        $this->headerSelector = $selector ?? new HeaderSelector();

        $this->hostIndex = $hostIndex;
    }

    /**
     * Set the host index
     *
     * @param int $hostIndex Host index (required)
     */
    public function setHostIndex($hostIndex): void
    {
        $this->hostIndex = $hostIndex;
    }

    /**
     * Get the host index
     *
     * @return int Host index
     */
    public function getHostIndex()
    {
        return $this->hostIndex;
    }

    /**
     * @return Configuration
     */
    public function getConfig()
    {
        return $this->config;
    }

    /**
     * Operation scPublicV3OrdersDeleteDeleteOrder
     *
     * Delete an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return void
     */
    public function scPublicV3OrdersDeleteDeleteOrder($id)
    {
        $this->scPublicV3OrdersDeleteDeleteOrderWithHttpInfo($id);
    }

    /**
     * Operation scPublicV3OrdersDeleteDeleteOrderWithHttpInfo
     *
     * Delete an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function scPublicV3OrdersDeleteDeleteOrderWithHttpInfo($id)
    {
        $request = $this->scPublicV3OrdersDeleteDeleteOrderRequest($id);

        try {
            try {
                $response = $this->httpClient->sendRequest($request);
            } catch (HttpException $e) {
                $response = $e->getResponse();
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $response->getStatusCode(),
                        (string) $request->getUri()
                    ),
                    $request,
                    $response,
                    $e
                );
            } catch (ClientExceptionInterface $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    $request,
                    null,
                    $e
                );
            }

            $statusCode = $response->getStatusCode();


            return [null, $statusCode, $response->getHeaders()];
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\Errors',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation scPublicV3OrdersDeleteDeleteOrderAsync
     *
     * Delete an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersDeleteDeleteOrderAsync($id)
    {
        return $this->scPublicV3OrdersDeleteDeleteOrderAsyncWithHttpInfo($id)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation scPublicV3OrdersDeleteDeleteOrderAsyncWithHttpInfo
     *
     * Delete an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersDeleteDeleteOrderAsyncWithHttpInfo($id)
    {
        $returnType = '';
        $request = $this->scPublicV3OrdersDeleteDeleteOrderRequest($id);

        return $this->httpAsyncClient->sendAsyncRequest($request)
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function (HttpException $exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $exception->getRequest(),
                        $exception->getResponse(),
                        $exception
                    );
                }
            );
    }

    /**
     * Create request for operation 'scPublicV3OrdersDeleteDeleteOrder'
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \InvalidArgumentException
     * @return RequestInterface
     */
    public function scPublicV3OrdersDeleteDeleteOrderRequest($id)
    {
        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling scPublicV3OrdersDeleteDeleteOrder'
            );
        }
        if ($id < 1) {
            throw new \InvalidArgumentException('invalid value for "$id" when calling OrdersApi.scPublicV3OrdersDeleteDeleteOrder, must be bigger than or equal to 1.');
        }


        $resourcePath = '/orders/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = null;
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json'],
            '',
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif ($this->headerSelector->isJsonMime($headers['Content-Type'])) {
                $httpBody = json_encode($formParams);

            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires HTTP basic authentication
        if (!empty($this->config->getUsername()) || !(empty($this->config->getPassword()))) {
            $headers['Authorization'] = 'Basic ' . base64_encode($this->config->getUsername() . ":" . $this->config->getPassword());
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();

        $uri = $this->createUri($operationHost, $resourcePath, $queryParams);

        return $this->createRequest('DELETE', $uri, $headers, $httpBody);
    }

    /**
     * Operation scPublicV3OrdersGetListOrders
     *
     * Retrieve orders from integrations
     *
     * @param  int $integration Filter orders by integration ID or IDs. Use comma separated list, for example \&quot;/?integration&#x3D;41,68,419\&quot;. To obtain the integration IDs, you can utilize the integration [endpoint](https://api.sendcloud.dev/docs/sendcloud-public-api/integrations/operations/list-integrations) listings. (optional)
     * @param  string $orderNumber Filter orders by a specific order number. For example \&quot;/?order_number&#x3D;ORDER_284565\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_number&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $orderId Filter orders by a specific order id. For example \&quot;/?order_id&#x3D;1896e94b-c01b-4e73-a9e7-57f51c8a4c77\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_id&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $status Filter orders based on their status. For example \&quot;/?status&#x3D;unshipped\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_details&#x60; -&gt; &#x60;status&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAt Filter orders based on a specific date. For example \&quot;/?order_created_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_created_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_created_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAt Filter orders based on a specific date. For example \&quot;/?order_updated_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_updated_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_updated_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $sort Sort the retrieved orders on attributes of the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) by setting the sort query. The attributes below can be used to sort the orders in the response:  - &#x60;integration&#x60;: Sort by the integration ID of the retrieved orders; to sort in descending order, use &#x60;-integration&#x60;  - &#x60;order_number&#x60;: Sort by the order number of the retrieved orders; to sort in descending order, use &#x60;-order_number&#x60;.  - &#x60;order_created_at&#x60;: Sort by the date of an order creation of the retrieved orders; to sort in descending order, use &#x60;-order_created_at&#x60;  - &#x60;order_updated_at&#x60;: Sort by the date of an order update of the retrieved orders; to sort in descending order, use &#x60;-order_updated_at&#x60;  - &#x60;pk&#x60;: Sort by the ID (autogenerated internal ID) of the retrieved orders; to sort in descending order, use &#x60;-pk&#x60; Additional information about this query:  - Any valid combination of all these supported values is supported, eg., &#x60;/?sort&#x3D;\&quot;integration,-order_created_at\&quot;&#x60;.   - In case of conflicting &#x60;sort&#x60; values eg., &#x60;/?sort&#x3D;\&quot;integration,-integration\&quot;&#x60;, the conflicting value will be ignored.  - If the &#x60;sort&#x60; query parameter is not set, the sorting of the retrieved orders will be defaulted to &#x60;-pk&#x60;.  - In case where an unsupported &#x60;sort&#x60; value is provided, the results will be sorted by the default (&#x60;-pk&#x60;). (optional)
     * @param  float $pageSize The maximum number of results to be returned per page (optional, default to 100)
     * @param  string $cursor The cursor query string is used as the pivot value to filter results. If no value is provided, the service must return the first page. The value is Base64 encoded GET parameters, for example:   For a cursor string, there are 3 possible parameters to encode:     - &#x60;o&#x60;: Offset     - &#x60;r&#x60;: Reverse     - &#x60;p&#x60;: Position   Combine into GET parameters, for example: &#x60;r&#x3D;1&amp;p&#x3D;300&#x60;   Base 64 encoded it would become: &#x60;cj0xJnA9MzAw&#x60;   GET parameter in URL would be &#x60;https://some.url.com/api/endpoint/?cursor&#x3D;cj0xJnA9MzAw&#x60; (optional)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \Toppy\Sendcloud\Model\ScPublicV3OrdersGetListOrders200Response|\Toppy\Sendcloud\Model\Errors|\Toppy\Sendcloud\Model\Errors
     */
    public function scPublicV3OrdersGetListOrders($integration = null, $orderNumber = null, $orderId = null, $status = null, $orderCreatedAt = null, $orderCreatedAtMin = null, $orderCreatedAtMax = null, $orderUpdatedAt = null, $orderUpdatedAtMin = null, $orderUpdatedAtMax = null, $sort = null, $pageSize = 100, $cursor = null)
    {
        list($response) = $this->scPublicV3OrdersGetListOrdersWithHttpInfo($integration, $orderNumber, $orderId, $status, $orderCreatedAt, $orderCreatedAtMin, $orderCreatedAtMax, $orderUpdatedAt, $orderUpdatedAtMin, $orderUpdatedAtMax, $sort, $pageSize, $cursor);
        return $response;
    }

    /**
     * Operation scPublicV3OrdersGetListOrdersWithHttpInfo
     *
     * Retrieve orders from integrations
     *
     * @param  int $integration Filter orders by integration ID or IDs. Use comma separated list, for example \&quot;/?integration&#x3D;41,68,419\&quot;. To obtain the integration IDs, you can utilize the integration [endpoint](https://api.sendcloud.dev/docs/sendcloud-public-api/integrations/operations/list-integrations) listings. (optional)
     * @param  string $orderNumber Filter orders by a specific order number. For example \&quot;/?order_number&#x3D;ORDER_284565\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_number&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $orderId Filter orders by a specific order id. For example \&quot;/?order_id&#x3D;1896e94b-c01b-4e73-a9e7-57f51c8a4c77\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_id&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $status Filter orders based on their status. For example \&quot;/?status&#x3D;unshipped\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_details&#x60; -&gt; &#x60;status&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAt Filter orders based on a specific date. For example \&quot;/?order_created_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_created_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_created_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAt Filter orders based on a specific date. For example \&quot;/?order_updated_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_updated_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_updated_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $sort Sort the retrieved orders on attributes of the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) by setting the sort query. The attributes below can be used to sort the orders in the response:  - &#x60;integration&#x60;: Sort by the integration ID of the retrieved orders; to sort in descending order, use &#x60;-integration&#x60;  - &#x60;order_number&#x60;: Sort by the order number of the retrieved orders; to sort in descending order, use &#x60;-order_number&#x60;.  - &#x60;order_created_at&#x60;: Sort by the date of an order creation of the retrieved orders; to sort in descending order, use &#x60;-order_created_at&#x60;  - &#x60;order_updated_at&#x60;: Sort by the date of an order update of the retrieved orders; to sort in descending order, use &#x60;-order_updated_at&#x60;  - &#x60;pk&#x60;: Sort by the ID (autogenerated internal ID) of the retrieved orders; to sort in descending order, use &#x60;-pk&#x60; Additional information about this query:  - Any valid combination of all these supported values is supported, eg., &#x60;/?sort&#x3D;\&quot;integration,-order_created_at\&quot;&#x60;.   - In case of conflicting &#x60;sort&#x60; values eg., &#x60;/?sort&#x3D;\&quot;integration,-integration\&quot;&#x60;, the conflicting value will be ignored.  - If the &#x60;sort&#x60; query parameter is not set, the sorting of the retrieved orders will be defaulted to &#x60;-pk&#x60;.  - In case where an unsupported &#x60;sort&#x60; value is provided, the results will be sorted by the default (&#x60;-pk&#x60;). (optional)
     * @param  float $pageSize The maximum number of results to be returned per page (optional, default to 100)
     * @param  string $cursor The cursor query string is used as the pivot value to filter results. If no value is provided, the service must return the first page. The value is Base64 encoded GET parameters, for example:   For a cursor string, there are 3 possible parameters to encode:     - &#x60;o&#x60;: Offset     - &#x60;r&#x60;: Reverse     - &#x60;p&#x60;: Position   Combine into GET parameters, for example: &#x60;r&#x3D;1&amp;p&#x3D;300&#x60;   Base 64 encoded it would become: &#x60;cj0xJnA9MzAw&#x60;   GET parameter in URL would be &#x60;https://some.url.com/api/endpoint/?cursor&#x3D;cj0xJnA9MzAw&#x60; (optional)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \Toppy\Sendcloud\Model\ScPublicV3OrdersGetListOrders200Response|\Toppy\Sendcloud\Model\Errors|\Toppy\Sendcloud\Model\Errors, HTTP status code, HTTP response headers (array of strings)
     */
    public function scPublicV3OrdersGetListOrdersWithHttpInfo($integration = null, $orderNumber = null, $orderId = null, $status = null, $orderCreatedAt = null, $orderCreatedAtMin = null, $orderCreatedAtMax = null, $orderUpdatedAt = null, $orderUpdatedAtMin = null, $orderUpdatedAtMax = null, $sort = null, $pageSize = 100, $cursor = null)
    {
        $request = $this->scPublicV3OrdersGetListOrdersRequest($integration, $orderNumber, $orderId, $status, $orderCreatedAt, $orderCreatedAtMin, $orderCreatedAtMax, $orderUpdatedAt, $orderUpdatedAtMin, $orderUpdatedAtMax, $sort, $pageSize, $cursor);

        try {
            try {
                $response = $this->httpClient->sendRequest($request);
            } catch (HttpException $e) {
                $response = $e->getResponse();
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $response->getStatusCode(),
                        (string) $request->getUri()
                    ),
                    $request,
                    $response,
                    $e
                );
            } catch (ClientExceptionInterface $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    $request,
                    null,
                    $e
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetListOrders200Response',
                        $request,
                        $response,
                    );
                case 400:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\Errors',
                        $request,
                        $response,
                    );
                case 404:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\Errors',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $request,
                    $response
                );
            }

            return $this->handleResponseWithDataType(
                '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetListOrders200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetListOrders200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\Errors',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\Errors',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation scPublicV3OrdersGetListOrdersAsync
     *
     * Retrieve orders from integrations
     *
     * @param  int $integration Filter orders by integration ID or IDs. Use comma separated list, for example \&quot;/?integration&#x3D;41,68,419\&quot;. To obtain the integration IDs, you can utilize the integration [endpoint](https://api.sendcloud.dev/docs/sendcloud-public-api/integrations/operations/list-integrations) listings. (optional)
     * @param  string $orderNumber Filter orders by a specific order number. For example \&quot;/?order_number&#x3D;ORDER_284565\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_number&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $orderId Filter orders by a specific order id. For example \&quot;/?order_id&#x3D;1896e94b-c01b-4e73-a9e7-57f51c8a4c77\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_id&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $status Filter orders based on their status. For example \&quot;/?status&#x3D;unshipped\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_details&#x60; -&gt; &#x60;status&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAt Filter orders based on a specific date. For example \&quot;/?order_created_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_created_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_created_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAt Filter orders based on a specific date. For example \&quot;/?order_updated_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_updated_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_updated_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $sort Sort the retrieved orders on attributes of the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) by setting the sort query. The attributes below can be used to sort the orders in the response:  - &#x60;integration&#x60;: Sort by the integration ID of the retrieved orders; to sort in descending order, use &#x60;-integration&#x60;  - &#x60;order_number&#x60;: Sort by the order number of the retrieved orders; to sort in descending order, use &#x60;-order_number&#x60;.  - &#x60;order_created_at&#x60;: Sort by the date of an order creation of the retrieved orders; to sort in descending order, use &#x60;-order_created_at&#x60;  - &#x60;order_updated_at&#x60;: Sort by the date of an order update of the retrieved orders; to sort in descending order, use &#x60;-order_updated_at&#x60;  - &#x60;pk&#x60;: Sort by the ID (autogenerated internal ID) of the retrieved orders; to sort in descending order, use &#x60;-pk&#x60; Additional information about this query:  - Any valid combination of all these supported values is supported, eg., &#x60;/?sort&#x3D;\&quot;integration,-order_created_at\&quot;&#x60;.   - In case of conflicting &#x60;sort&#x60; values eg., &#x60;/?sort&#x3D;\&quot;integration,-integration\&quot;&#x60;, the conflicting value will be ignored.  - If the &#x60;sort&#x60; query parameter is not set, the sorting of the retrieved orders will be defaulted to &#x60;-pk&#x60;.  - In case where an unsupported &#x60;sort&#x60; value is provided, the results will be sorted by the default (&#x60;-pk&#x60;). (optional)
     * @param  float $pageSize The maximum number of results to be returned per page (optional, default to 100)
     * @param  string $cursor The cursor query string is used as the pivot value to filter results. If no value is provided, the service must return the first page. The value is Base64 encoded GET parameters, for example:   For a cursor string, there are 3 possible parameters to encode:     - &#x60;o&#x60;: Offset     - &#x60;r&#x60;: Reverse     - &#x60;p&#x60;: Position   Combine into GET parameters, for example: &#x60;r&#x3D;1&amp;p&#x3D;300&#x60;   Base 64 encoded it would become: &#x60;cj0xJnA9MzAw&#x60;   GET parameter in URL would be &#x60;https://some.url.com/api/endpoint/?cursor&#x3D;cj0xJnA9MzAw&#x60; (optional)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersGetListOrdersAsync($integration = null, $orderNumber = null, $orderId = null, $status = null, $orderCreatedAt = null, $orderCreatedAtMin = null, $orderCreatedAtMax = null, $orderUpdatedAt = null, $orderUpdatedAtMin = null, $orderUpdatedAtMax = null, $sort = null, $pageSize = 100, $cursor = null)
    {
        return $this->scPublicV3OrdersGetListOrdersAsyncWithHttpInfo($integration, $orderNumber, $orderId, $status, $orderCreatedAt, $orderCreatedAtMin, $orderCreatedAtMax, $orderUpdatedAt, $orderUpdatedAtMin, $orderUpdatedAtMax, $sort, $pageSize, $cursor)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation scPublicV3OrdersGetListOrdersAsyncWithHttpInfo
     *
     * Retrieve orders from integrations
     *
     * @param  int $integration Filter orders by integration ID or IDs. Use comma separated list, for example \&quot;/?integration&#x3D;41,68,419\&quot;. To obtain the integration IDs, you can utilize the integration [endpoint](https://api.sendcloud.dev/docs/sendcloud-public-api/integrations/operations/list-integrations) listings. (optional)
     * @param  string $orderNumber Filter orders by a specific order number. For example \&quot;/?order_number&#x3D;ORDER_284565\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_number&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $orderId Filter orders by a specific order id. For example \&quot;/?order_id&#x3D;1896e94b-c01b-4e73-a9e7-57f51c8a4c77\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_id&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $status Filter orders based on their status. For example \&quot;/?status&#x3D;unshipped\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_details&#x60; -&gt; &#x60;status&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAt Filter orders based on a specific date. For example \&quot;/?order_created_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_created_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_created_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAt Filter orders based on a specific date. For example \&quot;/?order_updated_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_updated_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_updated_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $sort Sort the retrieved orders on attributes of the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) by setting the sort query. The attributes below can be used to sort the orders in the response:  - &#x60;integration&#x60;: Sort by the integration ID of the retrieved orders; to sort in descending order, use &#x60;-integration&#x60;  - &#x60;order_number&#x60;: Sort by the order number of the retrieved orders; to sort in descending order, use &#x60;-order_number&#x60;.  - &#x60;order_created_at&#x60;: Sort by the date of an order creation of the retrieved orders; to sort in descending order, use &#x60;-order_created_at&#x60;  - &#x60;order_updated_at&#x60;: Sort by the date of an order update of the retrieved orders; to sort in descending order, use &#x60;-order_updated_at&#x60;  - &#x60;pk&#x60;: Sort by the ID (autogenerated internal ID) of the retrieved orders; to sort in descending order, use &#x60;-pk&#x60; Additional information about this query:  - Any valid combination of all these supported values is supported, eg., &#x60;/?sort&#x3D;\&quot;integration,-order_created_at\&quot;&#x60;.   - In case of conflicting &#x60;sort&#x60; values eg., &#x60;/?sort&#x3D;\&quot;integration,-integration\&quot;&#x60;, the conflicting value will be ignored.  - If the &#x60;sort&#x60; query parameter is not set, the sorting of the retrieved orders will be defaulted to &#x60;-pk&#x60;.  - In case where an unsupported &#x60;sort&#x60; value is provided, the results will be sorted by the default (&#x60;-pk&#x60;). (optional)
     * @param  float $pageSize The maximum number of results to be returned per page (optional, default to 100)
     * @param  string $cursor The cursor query string is used as the pivot value to filter results. If no value is provided, the service must return the first page. The value is Base64 encoded GET parameters, for example:   For a cursor string, there are 3 possible parameters to encode:     - &#x60;o&#x60;: Offset     - &#x60;r&#x60;: Reverse     - &#x60;p&#x60;: Position   Combine into GET parameters, for example: &#x60;r&#x3D;1&amp;p&#x3D;300&#x60;   Base 64 encoded it would become: &#x60;cj0xJnA9MzAw&#x60;   GET parameter in URL would be &#x60;https://some.url.com/api/endpoint/?cursor&#x3D;cj0xJnA9MzAw&#x60; (optional)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersGetListOrdersAsyncWithHttpInfo($integration = null, $orderNumber = null, $orderId = null, $status = null, $orderCreatedAt = null, $orderCreatedAtMin = null, $orderCreatedAtMax = null, $orderUpdatedAt = null, $orderUpdatedAtMin = null, $orderUpdatedAtMax = null, $sort = null, $pageSize = 100, $cursor = null)
    {
        $returnType = '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetListOrders200Response';
        $request = $this->scPublicV3OrdersGetListOrdersRequest($integration, $orderNumber, $orderId, $status, $orderCreatedAt, $orderCreatedAtMin, $orderCreatedAtMax, $orderUpdatedAt, $orderUpdatedAtMin, $orderUpdatedAtMax, $sort, $pageSize, $cursor);

        return $this->httpAsyncClient->sendAsyncRequest($request)
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function (HttpException $exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $exception->getRequest(),
                        $exception->getResponse(),
                        $exception
                    );
                }
            );
    }

    /**
     * Create request for operation 'scPublicV3OrdersGetListOrders'
     *
     * @param  int $integration Filter orders by integration ID or IDs. Use comma separated list, for example \&quot;/?integration&#x3D;41,68,419\&quot;. To obtain the integration IDs, you can utilize the integration [endpoint](https://api.sendcloud.dev/docs/sendcloud-public-api/integrations/operations/list-integrations) listings. (optional)
     * @param  string $orderNumber Filter orders by a specific order number. For example \&quot;/?order_number&#x3D;ORDER_284565\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_number&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $orderId Filter orders by a specific order id. For example \&quot;/?order_id&#x3D;1896e94b-c01b-4e73-a9e7-57f51c8a4c77\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_id&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $status Filter orders based on their status. For example \&quot;/?status&#x3D;unshipped\&quot;. The filter handles capital letters the same as lowercase letters. The field used is &#x60;order_details&#x60; -&gt; &#x60;status&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAt Filter orders based on a specific date. For example \&quot;/?order_created_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_created_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderCreatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_created_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_created_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAt Filter orders based on a specific date. For example \&quot;/?order_updated_at&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMin Filter orders that are created at or after a specific date. For example \&quot;/?order_updated_at_min&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  \DateTime $orderUpdatedAtMax Filter orders that are created at or before a specific date. For example \&quot;/?order_updated_at_max&#x3D;2023-04-28\&quot;. The field used is &#x60;order_details&#x60; -&gt; &#x60;order_updated_at&#x60; within the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) (optional)
     * @param  string $sort Sort the retrieved orders on attributes of the [Order model](https://api.sendcloud.dev/docs/sendcloud-public-api/branches/v3/orders/schemas/order) by setting the sort query. The attributes below can be used to sort the orders in the response:  - &#x60;integration&#x60;: Sort by the integration ID of the retrieved orders; to sort in descending order, use &#x60;-integration&#x60;  - &#x60;order_number&#x60;: Sort by the order number of the retrieved orders; to sort in descending order, use &#x60;-order_number&#x60;.  - &#x60;order_created_at&#x60;: Sort by the date of an order creation of the retrieved orders; to sort in descending order, use &#x60;-order_created_at&#x60;  - &#x60;order_updated_at&#x60;: Sort by the date of an order update of the retrieved orders; to sort in descending order, use &#x60;-order_updated_at&#x60;  - &#x60;pk&#x60;: Sort by the ID (autogenerated internal ID) of the retrieved orders; to sort in descending order, use &#x60;-pk&#x60; Additional information about this query:  - Any valid combination of all these supported values is supported, eg., &#x60;/?sort&#x3D;\&quot;integration,-order_created_at\&quot;&#x60;.   - In case of conflicting &#x60;sort&#x60; values eg., &#x60;/?sort&#x3D;\&quot;integration,-integration\&quot;&#x60;, the conflicting value will be ignored.  - If the &#x60;sort&#x60; query parameter is not set, the sorting of the retrieved orders will be defaulted to &#x60;-pk&#x60;.  - In case where an unsupported &#x60;sort&#x60; value is provided, the results will be sorted by the default (&#x60;-pk&#x60;). (optional)
     * @param  float $pageSize The maximum number of results to be returned per page (optional, default to 100)
     * @param  string $cursor The cursor query string is used as the pivot value to filter results. If no value is provided, the service must return the first page. The value is Base64 encoded GET parameters, for example:   For a cursor string, there are 3 possible parameters to encode:     - &#x60;o&#x60;: Offset     - &#x60;r&#x60;: Reverse     - &#x60;p&#x60;: Position   Combine into GET parameters, for example: &#x60;r&#x3D;1&amp;p&#x3D;300&#x60;   Base 64 encoded it would become: &#x60;cj0xJnA9MzAw&#x60;   GET parameter in URL would be &#x60;https://some.url.com/api/endpoint/?cursor&#x3D;cj0xJnA9MzAw&#x60; (optional)
     *
     * @throws \InvalidArgumentException
     * @return RequestInterface
     */
    public function scPublicV3OrdersGetListOrdersRequest($integration = null, $orderNumber = null, $orderId = null, $status = null, $orderCreatedAt = null, $orderCreatedAtMin = null, $orderCreatedAtMax = null, $orderUpdatedAt = null, $orderUpdatedAtMin = null, $orderUpdatedAtMax = null, $sort = null, $pageSize = 100, $cursor = null)
    {
        if ($pageSize !== null && $pageSize > 200) {
            throw new \InvalidArgumentException('invalid value for "$pageSize" when calling OrdersApi.scPublicV3OrdersGetListOrders, must be smaller than or equal to 200.');
        }
        if ($pageSize !== null && $pageSize < 1) {
            throw new \InvalidArgumentException('invalid value for "$pageSize" when calling OrdersApi.scPublicV3OrdersGetListOrders, must be bigger than or equal to 1.');
        }


        $resourcePath = '/orders';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = null;
        $multipart = false;

        // query params
        if ($integration !== null) {
            if('form' === 'form' && is_array($integration)) {
                foreach($integration as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['integration'] = $integration;
            }
        }
        // query params
        if ($orderNumber !== null) {
            if('form' === 'form' && is_array($orderNumber)) {
                foreach($orderNumber as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_number'] = $orderNumber;
            }
        }
        // query params
        if ($orderId !== null) {
            if('form' === 'form' && is_array($orderId)) {
                foreach($orderId as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_id'] = $orderId;
            }
        }
        // query params
        if ($status !== null) {
            if('form' === 'form' && is_array($status)) {
                foreach($status as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['status'] = $status;
            }
        }
        // query params
        if ($orderCreatedAt !== null) {
            if('form' === 'form' && is_array($orderCreatedAt)) {
                foreach($orderCreatedAt as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_created_at'] = $orderCreatedAt;
            }
        }
        // query params
        if ($orderCreatedAtMin !== null) {
            if('form' === 'form' && is_array($orderCreatedAtMin)) {
                foreach($orderCreatedAtMin as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_created_at_min'] = $orderCreatedAtMin;
            }
        }
        // query params
        if ($orderCreatedAtMax !== null) {
            if('form' === 'form' && is_array($orderCreatedAtMax)) {
                foreach($orderCreatedAtMax as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_created_at_max'] = $orderCreatedAtMax;
            }
        }
        // query params
        if ($orderUpdatedAt !== null) {
            if('form' === 'form' && is_array($orderUpdatedAt)) {
                foreach($orderUpdatedAt as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_updated_at'] = $orderUpdatedAt;
            }
        }
        // query params
        if ($orderUpdatedAtMin !== null) {
            if('form' === 'form' && is_array($orderUpdatedAtMin)) {
                foreach($orderUpdatedAtMin as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_updated_at_min'] = $orderUpdatedAtMin;
            }
        }
        // query params
        if ($orderUpdatedAtMax !== null) {
            if('form' === 'form' && is_array($orderUpdatedAtMax)) {
                foreach($orderUpdatedAtMax as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['order_updated_at_max'] = $orderUpdatedAtMax;
            }
        }
        // query params
        if ($sort !== null) {
            if('form' === 'form' && is_array($sort)) {
                foreach($sort as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['sort'] = $sort;
            }
        }
        // query params
        if ($pageSize !== null) {
            if('form' === 'form' && is_array($pageSize)) {
                foreach($pageSize as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['page_size'] = $pageSize;
            }
        }
        // query params
        if ($cursor !== null) {
            if('form' === 'form' && is_array($cursor)) {
                foreach($cursor as $key => $value) {
                    $queryParams[$key] = $value;
                }
            }
            else {
                $queryParams['cursor'] = $cursor;
            }
        }




        $headers = $this->headerSelector->selectHeaders(
            ['application/json'],
            '',
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif ($this->headerSelector->isJsonMime($headers['Content-Type'])) {
                $httpBody = json_encode($formParams);

            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires HTTP basic authentication
        if (!empty($this->config->getUsername()) || !(empty($this->config->getPassword()))) {
            $headers['Authorization'] = 'Basic ' . base64_encode($this->config->getUsername() . ":" . $this->config->getPassword());
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();

        $uri = $this->createUri($operationHost, $resourcePath, $queryParams);

        return $this->createRequest('GET', $uri, $headers, $httpBody);
    }

    /**
     * Operation scPublicV3OrdersGetRetrieveOrder
     *
     * Retrieving a specific order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \Toppy\Sendcloud\Model\ScPublicV3OrdersGetRetrieveOrder200Response|\Toppy\Sendcloud\Model\Errors
     */
    public function scPublicV3OrdersGetRetrieveOrder($id)
    {
        list($response) = $this->scPublicV3OrdersGetRetrieveOrderWithHttpInfo($id);
        return $response;
    }

    /**
     * Operation scPublicV3OrdersGetRetrieveOrderWithHttpInfo
     *
     * Retrieving a specific order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \Toppy\Sendcloud\Model\ScPublicV3OrdersGetRetrieveOrder200Response|\Toppy\Sendcloud\Model\Errors, HTTP status code, HTTP response headers (array of strings)
     */
    public function scPublicV3OrdersGetRetrieveOrderWithHttpInfo($id)
    {
        $request = $this->scPublicV3OrdersGetRetrieveOrderRequest($id);

        try {
            try {
                $response = $this->httpClient->sendRequest($request);
            } catch (HttpException $e) {
                $response = $e->getResponse();
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $response->getStatusCode(),
                        (string) $request->getUri()
                    ),
                    $request,
                    $response,
                    $e
                );
            } catch (ClientExceptionInterface $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    $request,
                    null,
                    $e
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetRetrieveOrder200Response',
                        $request,
                        $response,
                    );
                case 404:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\Errors',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $request,
                    $response
                );
            }

            return $this->handleResponseWithDataType(
                '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetRetrieveOrder200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetRetrieveOrder200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\Errors',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation scPublicV3OrdersGetRetrieveOrderAsync
     *
     * Retrieving a specific order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersGetRetrieveOrderAsync($id)
    {
        return $this->scPublicV3OrdersGetRetrieveOrderAsyncWithHttpInfo($id)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation scPublicV3OrdersGetRetrieveOrderAsyncWithHttpInfo
     *
     * Retrieving a specific order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersGetRetrieveOrderAsyncWithHttpInfo($id)
    {
        $returnType = '\Toppy\Sendcloud\Model\ScPublicV3OrdersGetRetrieveOrder200Response';
        $request = $this->scPublicV3OrdersGetRetrieveOrderRequest($id);

        return $this->httpAsyncClient->sendAsyncRequest($request)
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function (HttpException $exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $exception->getRequest(),
                        $exception->getResponse(),
                        $exception
                    );
                }
            );
    }

    /**
     * Create request for operation 'scPublicV3OrdersGetRetrieveOrder'
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     *
     * @throws \InvalidArgumentException
     * @return RequestInterface
     */
    public function scPublicV3OrdersGetRetrieveOrderRequest($id)
    {
        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling scPublicV3OrdersGetRetrieveOrder'
            );
        }
        if ($id < 1) {
            throw new \InvalidArgumentException('invalid value for "$id" when calling OrdersApi.scPublicV3OrdersGetRetrieveOrder, must be bigger than or equal to 1.');
        }


        $resourcePath = '/orders/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = null;
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json'],
            '',
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif ($this->headerSelector->isJsonMime($headers['Content-Type'])) {
                $httpBody = json_encode($formParams);

            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires HTTP basic authentication
        if (!empty($this->config->getUsername()) || !(empty($this->config->getPassword()))) {
            $headers['Authorization'] = 'Basic ' . base64_encode($this->config->getUsername() . ":" . $this->config->getPassword());
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();

        $uri = $this->createUri($operationHost, $resourcePath, $queryParams);

        return $this->createRequest('GET', $uri, $headers, $httpBody);
    }

    /**
     * Operation scPublicV3OrdersPatchPartialUpdateOrder
     *
     * Update an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     * @param  \Toppy\Sendcloud\Model\OrderPartialUpdate $orderPartialUpdate Only set the fields you would like to update. If updating any of the &#x60;order_items&#x60;, &#x60;name&#x60; is required to match with the right &#x60;order_item&#x60;. If you need to add or remove items to an order, you have to update the whole order data through a POST request. (optional)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \Toppy\Sendcloud\Model\ScPublicV3OrdersPatchPartialUpdateOrder200Response|\Toppy\Sendcloud\Model\Errors|\Toppy\Sendcloud\Model\Errors
     */
    public function scPublicV3OrdersPatchPartialUpdateOrder($id, $orderPartialUpdate = null)
    {
        list($response) = $this->scPublicV3OrdersPatchPartialUpdateOrderWithHttpInfo($id, $orderPartialUpdate);
        return $response;
    }

    /**
     * Operation scPublicV3OrdersPatchPartialUpdateOrderWithHttpInfo
     *
     * Update an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     * @param  \Toppy\Sendcloud\Model\OrderPartialUpdate $orderPartialUpdate Only set the fields you would like to update. If updating any of the &#x60;order_items&#x60;, &#x60;name&#x60; is required to match with the right &#x60;order_item&#x60;. If you need to add or remove items to an order, you have to update the whole order data through a POST request. (optional)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \Toppy\Sendcloud\Model\ScPublicV3OrdersPatchPartialUpdateOrder200Response|\Toppy\Sendcloud\Model\Errors|\Toppy\Sendcloud\Model\Errors, HTTP status code, HTTP response headers (array of strings)
     */
    public function scPublicV3OrdersPatchPartialUpdateOrderWithHttpInfo($id, $orderPartialUpdate = null)
    {
        $request = $this->scPublicV3OrdersPatchPartialUpdateOrderRequest($id, $orderPartialUpdate);

        try {
            try {
                $response = $this->httpClient->sendRequest($request);
            } catch (HttpException $e) {
                $response = $e->getResponse();
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $response->getStatusCode(),
                        (string) $request->getUri()
                    ),
                    $request,
                    $response,
                    $e
                );
            } catch (ClientExceptionInterface $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    $request,
                    null,
                    $e
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersPatchPartialUpdateOrder200Response',
                        $request,
                        $response,
                    );
                case 400:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\Errors',
                        $request,
                        $response,
                    );
                case 404:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\Errors',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $request,
                    $response
                );
            }

            return $this->handleResponseWithDataType(
                '\Toppy\Sendcloud\Model\ScPublicV3OrdersPatchPartialUpdateOrder200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersPatchPartialUpdateOrder200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\Errors',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
                case 404:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\Errors',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation scPublicV3OrdersPatchPartialUpdateOrderAsync
     *
     * Update an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     * @param  \Toppy\Sendcloud\Model\OrderPartialUpdate $orderPartialUpdate Only set the fields you would like to update. If updating any of the &#x60;order_items&#x60;, &#x60;name&#x60; is required to match with the right &#x60;order_item&#x60;. If you need to add or remove items to an order, you have to update the whole order data through a POST request. (optional)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersPatchPartialUpdateOrderAsync($id, $orderPartialUpdate = null)
    {
        return $this->scPublicV3OrdersPatchPartialUpdateOrderAsyncWithHttpInfo($id, $orderPartialUpdate)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation scPublicV3OrdersPatchPartialUpdateOrderAsyncWithHttpInfo
     *
     * Update an order
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     * @param  \Toppy\Sendcloud\Model\OrderPartialUpdate $orderPartialUpdate Only set the fields you would like to update. If updating any of the &#x60;order_items&#x60;, &#x60;name&#x60; is required to match with the right &#x60;order_item&#x60;. If you need to add or remove items to an order, you have to update the whole order data through a POST request. (optional)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersPatchPartialUpdateOrderAsyncWithHttpInfo($id, $orderPartialUpdate = null)
    {
        $returnType = '\Toppy\Sendcloud\Model\ScPublicV3OrdersPatchPartialUpdateOrder200Response';
        $request = $this->scPublicV3OrdersPatchPartialUpdateOrderRequest($id, $orderPartialUpdate);

        return $this->httpAsyncClient->sendAsyncRequest($request)
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function (HttpException $exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $exception->getRequest(),
                        $exception->getResponse(),
                        $exception
                    );
                }
            );
    }

    /**
     * Create request for operation 'scPublicV3OrdersPatchPartialUpdateOrder'
     *
     * @param  int $id Filtering on the Sendcloud order ID (required)
     * @param  \Toppy\Sendcloud\Model\OrderPartialUpdate $orderPartialUpdate Only set the fields you would like to update. If updating any of the &#x60;order_items&#x60;, &#x60;name&#x60; is required to match with the right &#x60;order_item&#x60;. If you need to add or remove items to an order, you have to update the whole order data through a POST request. (optional)
     *
     * @throws \InvalidArgumentException
     * @return RequestInterface
     */
    public function scPublicV3OrdersPatchPartialUpdateOrderRequest($id, $orderPartialUpdate = null)
    {
        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling scPublicV3OrdersPatchPartialUpdateOrder'
            );
        }
        if ($id < 1) {
            throw new \InvalidArgumentException('invalid value for "$id" when calling OrdersApi.scPublicV3OrdersPatchPartialUpdateOrder, must be bigger than or equal to 1.');
        }


        $resourcePath = '/orders/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = null;
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json'],
            'application/json',
            $multipart
        );

        // for model (json/xml)
        if (isset($orderPartialUpdate)) {
            if ($this->headerSelector->isJsonMime($headers['Content-Type'])) {
                $httpBody = json_encode(ObjectSerializer::sanitizeForSerialization($orderPartialUpdate));
            } else {
                $httpBody = $orderPartialUpdate;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif ($this->headerSelector->isJsonMime($headers['Content-Type'])) {
                $httpBody = json_encode($formParams);

            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires HTTP basic authentication
        if (!empty($this->config->getUsername()) || !(empty($this->config->getPassword()))) {
            $headers['Authorization'] = 'Basic ' . base64_encode($this->config->getUsername() . ":" . $this->config->getPassword());
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();

        $uri = $this->createUri($operationHost, $resourcePath, $queryParams);

        return $this->createRequest('PATCH', $uri, $headers, $httpBody);
    }

    /**
     * Operation scPublicV3OrdersPostCreateOrders
     *
     * Create/Update orders in batch
     *
     * @param  string $sendcloudPartnerId Send an additional request header for the system to recognize you if you are an official &lt;a href&#x3D;\&quot;https://www.sendcloud.com/ecosystem/\&quot; target&#x3D;\&quot;_blank\&quot;&gt;**Sendcloud Tech Partner**&lt;/a&gt;. Sendcloud Partner UUID is provided to Sendcloud partners. The provided partner UUID will only be inserted for new orders. Existing orders will not be updated. (optional)
     * @param  \Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrdersRequestInner[] $scPublicV3OrdersPostCreateOrdersRequestInner scPublicV3OrdersPostCreateOrdersRequestInner (optional)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return \Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrders201Response|\Toppy\Sendcloud\Model\Errors
     */
    public function scPublicV3OrdersPostCreateOrders($sendcloudPartnerId = null, $scPublicV3OrdersPostCreateOrdersRequestInner = null)
    {
        list($response) = $this->scPublicV3OrdersPostCreateOrdersWithHttpInfo($sendcloudPartnerId, $scPublicV3OrdersPostCreateOrdersRequestInner);
        return $response;
    }

    /**
     * Operation scPublicV3OrdersPostCreateOrdersWithHttpInfo
     *
     * Create/Update orders in batch
     *
     * @param  string $sendcloudPartnerId Send an additional request header for the system to recognize you if you are an official &lt;a href&#x3D;\&quot;https://www.sendcloud.com/ecosystem/\&quot; target&#x3D;\&quot;_blank\&quot;&gt;**Sendcloud Tech Partner**&lt;/a&gt;. Sendcloud Partner UUID is provided to Sendcloud partners. The provided partner UUID will only be inserted for new orders. Existing orders will not be updated. (optional)
     * @param  \Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrdersRequestInner[] $scPublicV3OrdersPostCreateOrdersRequestInner (optional)
     *
     * @throws \Toppy\Sendcloud\ApiException on non-2xx response
     * @throws \InvalidArgumentException
     * @return array of \Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrders201Response|\Toppy\Sendcloud\Model\Errors, HTTP status code, HTTP response headers (array of strings)
     */
    public function scPublicV3OrdersPostCreateOrdersWithHttpInfo($sendcloudPartnerId = null, $scPublicV3OrdersPostCreateOrdersRequestInner = null)
    {
        $request = $this->scPublicV3OrdersPostCreateOrdersRequest($sendcloudPartnerId, $scPublicV3OrdersPostCreateOrdersRequestInner);

        try {
            try {
                $response = $this->httpClient->sendRequest($request);
            } catch (HttpException $e) {
                $response = $e->getResponse();
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $response->getStatusCode(),
                        (string) $request->getUri()
                    ),
                    $request,
                    $response,
                    $e
                );
            } catch (ClientExceptionInterface $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    $request,
                    null,
                    $e
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 201:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrders201Response',
                        $request,
                        $response,
                    );
                case 400:
                    return $this->handleResponseWithDataType(
                        '\Toppy\Sendcloud\Model\Errors',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $request,
                    $response
                );
            }

            return $this->handleResponseWithDataType(
                '\Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrders201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrders201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
                case 400:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Toppy\Sendcloud\Model\Errors',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation scPublicV3OrdersPostCreateOrdersAsync
     *
     * Create/Update orders in batch
     *
     * @param  string $sendcloudPartnerId Send an additional request header for the system to recognize you if you are an official &lt;a href&#x3D;\&quot;https://www.sendcloud.com/ecosystem/\&quot; target&#x3D;\&quot;_blank\&quot;&gt;**Sendcloud Tech Partner**&lt;/a&gt;. Sendcloud Partner UUID is provided to Sendcloud partners. The provided partner UUID will only be inserted for new orders. Existing orders will not be updated. (optional)
     * @param  \Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrdersRequestInner[] $scPublicV3OrdersPostCreateOrdersRequestInner (optional)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersPostCreateOrdersAsync($sendcloudPartnerId = null, $scPublicV3OrdersPostCreateOrdersRequestInner = null)
    {
        return $this->scPublicV3OrdersPostCreateOrdersAsyncWithHttpInfo($sendcloudPartnerId, $scPublicV3OrdersPostCreateOrdersRequestInner)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation scPublicV3OrdersPostCreateOrdersAsyncWithHttpInfo
     *
     * Create/Update orders in batch
     *
     * @param  string $sendcloudPartnerId Send an additional request header for the system to recognize you if you are an official &lt;a href&#x3D;\&quot;https://www.sendcloud.com/ecosystem/\&quot; target&#x3D;\&quot;_blank\&quot;&gt;**Sendcloud Tech Partner**&lt;/a&gt;. Sendcloud Partner UUID is provided to Sendcloud partners. The provided partner UUID will only be inserted for new orders. Existing orders will not be updated. (optional)
     * @param  \Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrdersRequestInner[] $scPublicV3OrdersPostCreateOrdersRequestInner (optional)
     *
     * @throws \InvalidArgumentException
     * @return Promise
     */
    public function scPublicV3OrdersPostCreateOrdersAsyncWithHttpInfo($sendcloudPartnerId = null, $scPublicV3OrdersPostCreateOrdersRequestInner = null)
    {
        $returnType = '\Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrders201Response';
        $request = $this->scPublicV3OrdersPostCreateOrdersRequest($sendcloudPartnerId, $scPublicV3OrdersPostCreateOrdersRequestInner);

        return $this->httpAsyncClient->sendAsyncRequest($request)
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function (HttpException $exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $exception->getRequest(),
                        $exception->getResponse(),
                        $exception
                    );
                }
            );
    }

    /**
     * Create request for operation 'scPublicV3OrdersPostCreateOrders'
     *
     * @param  string $sendcloudPartnerId Send an additional request header for the system to recognize you if you are an official &lt;a href&#x3D;\&quot;https://www.sendcloud.com/ecosystem/\&quot; target&#x3D;\&quot;_blank\&quot;&gt;**Sendcloud Tech Partner**&lt;/a&gt;. Sendcloud Partner UUID is provided to Sendcloud partners. The provided partner UUID will only be inserted for new orders. Existing orders will not be updated. (optional)
     * @param  \Toppy\Sendcloud\Model\ScPublicV3OrdersPostCreateOrdersRequestInner[] $scPublicV3OrdersPostCreateOrdersRequestInner (optional)
     *
     * @throws \InvalidArgumentException
     * @return RequestInterface
     */
    public function scPublicV3OrdersPostCreateOrdersRequest($sendcloudPartnerId = null, $scPublicV3OrdersPostCreateOrdersRequestInner = null)
    {

        $resourcePath = '/orders';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = null;
        $multipart = false;


        // header params
        if ($sendcloudPartnerId !== null) {
            $headerParams['Sendcloud-Partner-Id'] = ObjectSerializer::toHeaderValue($sendcloudPartnerId);
        }



        $headers = $this->headerSelector->selectHeaders(
            ['application/json'],
            'application/json',
            $multipart
        );

        // for model (json/xml)
        if (isset($scPublicV3OrdersPostCreateOrdersRequestInner)) {
            if ($this->headerSelector->isJsonMime($headers['Content-Type'])) {
                $httpBody = json_encode(ObjectSerializer::sanitizeForSerialization($scPublicV3OrdersPostCreateOrdersRequestInner));
            } else {
                $httpBody = $scPublicV3OrdersPostCreateOrdersRequestInner;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif ($this->headerSelector->isJsonMime($headers['Content-Type'])) {
                $httpBody = json_encode($formParams);

            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires HTTP basic authentication
        if (!empty($this->config->getUsername()) || !(empty($this->config->getPassword()))) {
            $headers['Authorization'] = 'Basic ' . base64_encode($this->config->getUsername() . ":" . $this->config->getPassword());
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();

        $uri = $this->createUri($operationHost, $resourcePath, $queryParams);

        return $this->createRequest('POST', $uri, $headers, $httpBody);
    }


    /**
     * @param string $method
     * @param string|UriInterface $uri
     * @param array $headers
     * @param string|StreamInterface|null $body
     *
     * @return RequestInterface
     */
    protected function createRequest(string $method, $uri, array $headers = [], $body = null): RequestInterface
    {
        if ($this->requestFactory instanceof RequestFactory) {
            return $this->requestFactory->createRequest(
                $method,
                $uri,
                $headers,
                $body
            );
        }

        if (is_string($body) && '' !== $body && null === $this->streamFactory) {
            throw new \RuntimeException('Cannot create request: A stream factory is required to create a request with a non-empty string body.');
        }

        $request = $this->requestFactory->createRequest($method, $uri);

        foreach ($headers as $key => $value) {
            $request = $request->withHeader($key, $value);
        }

        if (null !== $body && '' !== $body) {
            $request = $request->withBody(
                is_string($body) ? $this->streamFactory->createStream($body) : $body
            );
        }

        return $request;
    }

    private function createUri(
        string $operationHost,
        string $resourcePath,
        array $queryParams
    ): UriInterface {
        $parsedUrl = parse_url($operationHost);

        $host = $parsedUrl['host'] ?? null;
        $scheme = $parsedUrl['scheme'] ?? null;
        $basePath = $parsedUrl['path'] ?? null;
        $port = $parsedUrl['port'] ?? null;
        $user = $parsedUrl['user'] ?? null;
        $password = $parsedUrl['pass'] ?? null;

        $uri = $this->uriFactory->createUri($basePath . $resourcePath)
            ->withHost($host)
            ->withScheme($scheme)
            ->withPort($port)
            ->withQuery(ObjectSerializer::buildQuery($queryParams));

        if ($user) {
            $uri = $uri->withUserInfo($user, $password);
        }

        return $uri;
    }

    private function handleResponseWithDataType(
        string $dataType,
        RequestInterface $request,
        ResponseInterface $response
    ): array {
        if ($dataType === '\SplFileObject') {
            $content = $response->getBody(); //stream goes to serializer
        } else {
            $content = (string) $response->getBody();
            if ($dataType !== 'string') {
                try {
                    $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                } catch (\JsonException $exception) {
                    throw new ApiException(
                        sprintf(
                            'Error JSON decoding server response (%s)',
                            $request->getUri()
                        ),
			$request,
                        $response,
                        $exception
                    );
                }
            }
        }

        return [
            ObjectSerializer::deserialize($content, $dataType, []),
            $response->getStatusCode(),
            $response->getHeaders()
        ];
    }

    private function responseWithinRangeCode(
        string $rangeCode,
        int $statusCode
    ): bool {
        $left = (int) ($rangeCode[0].'00');
        $right = (int) ($rangeCode[0].'99');

        return $statusCode >= $left && $statusCode <= $right;
    }
}
